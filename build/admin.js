(()=>{"use strict";var e,r={940(e,r,t){const n=window.React,o=window.wp.element,s=window.wp.components,a=window.wp.i18n,l=window.wp.apiFetch;var c=t.n(l);const u=({settings:e,updateSetting:r})=>(0,n.createElement)(s.Card,{className:"nhrrob-secure-card"},(0,n.createElement)(s.CardBody,null,(0,n.createElement)("h2",{className:"nhrrob-secure-card-title"},(0,a.__)("Login Protection","nhrrob-secure")),(0,n.createElement)(s.ToggleControl,{label:(0,a.__)("Enable Login Attempts Limit","nhrrob-secure"),help:(0,a.__)("Limit failed login attempts to prevent brute force attacks","nhrrob-secure"),checked:e.nhrrob_secure_limit_login_attempts,onChange:e=>r("nhrrob_secure_limit_login_attempts",e)}),e.nhrrob_secure_limit_login_attempts&&(0,n.createElement)(s.TextControl,{label:(0,a.__)("Maximum Login Attempts","nhrrob-secure"),help:(0,a.__)("Number of failed attempts before blocking (default: 5)","nhrrob-secure"),type:"number",value:e.nhrrob_secure_login_attempts_limit,onChange:e=>r("nhrrob_secure_login_attempts_limit",parseInt(e)||5),min:"1",max:"20"}),(0,n.createElement)(s.ToggleControl,{label:(0,a.__)("Enable Proxy IP Detection","nhrrob-secure"),help:(0,a.__)("Detect real IP behind proxies (Cloudflare, etc.)","nhrrob-secure"),checked:e.nhrrob_secure_enable_proxy_ip,onChange:e=>r("nhrrob_secure_enable_proxy_ip",e)}))),i=({settings:e,updateSetting:r})=>(0,n.createElement)(s.Card,{className:"nhrrob-secure-card"},(0,n.createElement)(s.CardBody,null,(0,n.createElement)("h2",{className:"nhrrob-secure-card-title"},(0,a.__)("Custom Login Page","nhrrob-secure")),(0,n.createElement)(s.ToggleControl,{label:(0,a.__)("Enable Custom Login URL","nhrrob-secure"),help:(0,a.__)("Hide wp-login.php and use a custom login URL","nhrrob-secure"),checked:e.nhrrob_secure_custom_login_page,onChange:e=>r("nhrrob_secure_custom_login_page",e)}),e.nhrrob_secure_custom_login_page&&(0,n.createElement)(s.TextControl,{label:(0,a.__)("Custom Login URL","nhrrob-secure"),help:(0,a.__)("Your login page will be accessible at this URL","nhrrob-secure"),value:e.nhrrob_secure_custom_login_url,onChange:e=>r("nhrrob_secure_custom_login_url",e),placeholder:"/hidden-access-52w"}),e.nhrrob_secure_custom_login_page&&(0,n.createElement)("div",{className:"nhrrob-secure-info"},(0,n.createElement)("strong",null,(0,a.__)("Your login URL:","nhrrob-secure")),(0,n.createElement)("code",null,window.location.origin,e.nhrrob_secure_custom_login_url)))),_=({settings:e,updateSetting:r})=>(0,n.createElement)(s.Card,{className:"nhrrob-secure-card"},(0,n.createElement)(s.CardBody,null,(0,n.createElement)("h2",{className:"nhrrob-secure-card-title"},(0,a.__)("Two-Factor Authentication","nhrrob-secure")),(0,n.createElement)(s.ToggleControl,{label:(0,a.__)("Enable Global 2FA","nhrrob-secure"),help:(0,n.createElement)(n.Fragment,null,(0,a.__)("Enables Google Authenticator support for all users. Users can set it up in their ","nhrrob-secure"),(0,n.createElement)("a",{href:nhrrobSecureSettings.profile_url,target:"_blank",rel:"noreferrer"},(0,a.__)("profile page","nhrrob-secure")),"."),checked:e.nhrrob_secure_enable_2fa,onChange:e=>r("nhrrob_secure_enable_2fa",e)}))),h=({settings:e,updateSetting:r})=>(0,n.createElement)(s.Card,{className:"nhrrob-secure-card"},(0,n.createElement)(s.CardBody,null,(0,n.createElement)("h2",{className:"nhrrob-secure-card-title"},(0,a.__)("File Protection","nhrrob-secure")),(0,n.createElement)(s.ToggleControl,{label:(0,a.__)("Protect Debug Log","nhrrob-secure"),help:(0,a.__)("Block direct access to wp-content/debug.log","nhrrob-secure"),checked:e.nhrrob_secure_protect_debug_log,onChange:e=>r("nhrrob_secure_protect_debug_log",e)}))),b=document.getElementById("nhrrob-secure-settings-root");b&&(0,o.render)((0,n.createElement)(()=>{const[e,r]=(0,o.useState)(null),[t,l]=(0,o.useState)(!0),[b,m]=(0,o.useState)(!1),[g,d]=(0,o.useState)(null);(0,o.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await c()({path:"/nhrrob-secure/v1/settings"});r(e),l(!1)}catch(e){d({type:"error",message:(0,a.__)("Failed to load settings","nhrrob-secure")}),l(!1)}},E=(t,n)=>{r({...e,[t]:n})};return t?(0,n.createElement)("div",{className:"nhrrob-secure-loading"},(0,n.createElement)(s.Spinner,null)):(0,n.createElement)("div",{className:"nhrrob-secure-settings"},(0,n.createElement)("div",{className:"nhrrob-secure-header"},(0,n.createElement)("h1",null,(0,a.__)("NHR Secure Settings","nhrrob-secure")),(0,n.createElement)("p",{className:"nhrrob-secure-subtitle"},(0,a.__)("Configure security features for your WordPress site","nhrrob-secure"))),g&&(0,n.createElement)(s.Notice,{status:g.type,isDismissible:!0,onRemove:()=>d(null)},g.message),(0,n.createElement)("div",{className:"nhrrob-secure-cards"},(0,n.createElement)(u,{settings:e,updateSetting:E}),(0,n.createElement)(i,{settings:e,updateSetting:E}),(0,n.createElement)(_,{settings:e,updateSetting:E}),(0,n.createElement)(h,{settings:e,updateSetting:E})),(0,n.createElement)("div",{className:"nhrrob-secure-actions"},(0,n.createElement)(s.Button,{variant:"primary",onClick:async()=>{m(!0),d(null);try{await c()({path:"/nhrrob-secure/v1/settings",method:"POST",data:e}),d({type:"success",message:(0,a.__)("Settings saved successfully!","nhrrob-secure")})}catch(e){d({type:"error",message:(0,a.__)("Failed to save settings","nhrrob-secure")})}finally{m(!1)}},isBusy:b,disabled:b},b?(0,a.__)("Saving...","nhrrob-secure"):(0,a.__)("Save Settings","nhrrob-secure"))))},null),b)}},t={};function n(e){var o=t[e];if(void 0!==o)return o.exports;var s=t[e]={exports:{}};return r[e](s,s.exports,n),s.exports}n.m=r,e=[],n.O=(r,t,o,s)=>{if(!t){var a=1/0;for(i=0;i<e.length;i++){for(var[t,o,s]=e[i],l=!0,c=0;c<t.length;c++)(!1&s||a>=s)&&Object.keys(n.O).every(e=>n.O[e](t[c]))?t.splice(c--,1):(l=!1,s<a&&(a=s));if(l){e.splice(i--,1);var u=o();void 0!==u&&(r=u)}}return r}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[t,o,s]},n.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return n.d(r,{a:r}),r},n.d=(e,r)=>{for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},n.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={884:0,15:0};n.O.j=r=>0===e[r];var r=(r,t)=>{var o,s,[a,l,c]=t,u=0;if(a.some(r=>0!==e[r])){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(c)var i=c(n)}for(r&&r(t);u<a.length;u++)s=a[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(i)},t=globalThis.webpackChunknhrrob_secure=globalThis.webpackChunknhrrob_secure||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var o=n.O(void 0,[15],()=>n(940));o=n.O(o)})();